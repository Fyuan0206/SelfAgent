<script setup lang="ts">
import { useRouter } from 'vue-router'

const router = useRouter()

const quickTools = [
  { icon: 'ğŸ«', name: 'å‘¼å¸ç»ƒä¹ ', desc: 'æ”¾æ¾èº«å¿ƒ', color: 'bg-indigo-100', route: '/breathing' },
  { icon: 'ğŸ“', name: 'æƒ…ç»ªæ—¥è®°', desc: 'è®°å½•æ„Ÿå—', color: 'bg-pink-100', route: '' },
  { icon: 'ğŸ§ª', name: 'DBTæŠ€èƒ½', desc: 'ä¸“ä¸šæŒ‡å¯¼', color: 'bg-purple-100', route: '' },
  { icon: 'ğŸ“ˆ', name: 'æƒ…ç»ªè¶‹åŠ¿', desc: 'æ•°æ®åˆ†æ', color: 'bg-teal-100', route: '/emotion' },
]

const dbtModules = [
  { icon: 'ğŸ›¡ï¸', name: 'ç—›è‹¦è€å—', desc: 'TIPP, STOP, ACCEPTS ç­‰æŠ€èƒ½', skills: 8 },
  { icon: 'ğŸ’š', name: 'æƒ…ç»ªè°ƒèŠ‚', desc: 'PLEASE, åå‘è¡ŒåŠ¨ç­‰æŠ€èƒ½', skills: 6 },
  { icon: 'ğŸ¤', name: 'äººé™…æ•ˆèƒ½', desc: 'DEAR MAN, GIVE, FAST ç­‰æŠ€èƒ½', skills: 5 },
  { icon: 'ğŸ§˜', name: 'æ­£å¿µç»ƒä¹ ', desc: 'è§‚å¯Ÿ, æŠ•å…¥, éè¯„åˆ¤ç­‰æŠ€èƒ½', skills: 4 },
]

const navigateTo = (route: string) => {
  if (route) {
    router.push(route)
  }
}
</script>

<template>
  <div class="min-h-screen pb-16 px-4 pt-4">
    <h1 class="text-xl font-bold text-gray-900 dark:text-white mb-4">å¿«é€Ÿå·¥å…·</h1>

    <!-- å¿«é€Ÿå·¥å…·ç½‘æ ¼ -->
    <div class="grid grid-cols-2 gap-3 mb-6">
      <div
        v-for="tool in quickTools"
        :key="tool.name"
        :class="['glass rounded-2xl p-4 shadow-lg cursor-pointer active:scale-95 transition-transform', tool.color]"
        @click="navigateTo(tool.route)"
      >
        <div class="text-3xl mb-2">{{ tool.icon }}</div>
        <h3 class="font-semibold text-gray-900">{{ tool.name }}</h3>
        <p class="text-xs text-gray-600">{{ tool.desc }}</p>
      </div>
    </div>

    <!-- DBT æŠ€èƒ½æ¨¡å— -->
    <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-3">DBT æŠ€èƒ½æ¨¡å—</h2>
    <div class="glass rounded-2xl shadow-lg overflow-hidden">
      <van-cell-group>
        <van-cell
          v-for="module in dbtModules"
          :key="module.name"
          :title="module.name"
          :label="module.desc"
          is-link
        >
          <template #icon>
            <div class="w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center mr-3">
              <span class="text-xl">{{ module.icon }}</span>
            </div>
          </template>
          <template #value>
            <van-tag type="primary" plain>{{ module.skills }}ä¸ªæŠ€èƒ½</van-tag>
          </template>
        </van-cell>
      </van-cell-group>
    </div>

    <!-- ç´§æ€¥æ±‚åŠ©å…¥å£ -->
    <div class="mt-6">
      <van-button
        type="danger"
        block
        round
        size="large"
        class="crisis-pulse"
        @click="router.push('/crisis')"
      >
        <van-icon name="warning-o" class="mr-2" />
        ç´§æ€¥æ±‚åŠ©
      </van-button>
    </div>
  </div>
</template>
